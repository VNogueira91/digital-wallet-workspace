{
  "workDir": ".",
  "dependencies": [
    {
      "name": "privatesky",
      "src": ".",
      "actions": [
        {
          "type": "execute",
          "cmd": "node ./node_modules/octopus/scripts/setEnv --file=../../../env.json \"node ./node_modules/octopus/scripts/run privatesky-dependencies\""
        }
      ]
    }      
  ],
  "privatesky-dependencies": [
    {
      "name": "privatesky",
      "src": "http://github.com/privatesky/psk-release.git",
      "actions": [
        {
          "type": "smartClone",
          "target": ".",
          "collectLog": false,
          "commit": "b97e3d071de8357a8105b88683b2cd2ef7a25fab"
        },
        {
          "type": "execute",
          "cmd": "cd privatesky && npm install"
        }
      ]
    },
    {
      "name": "cardinal",
      "src": "http://github.com/privatesky/cardinal.git",
      "actions": [
        {
          "type": "smartClone",
          "target": ".",
          "collectLog": false,
          "commit": "f2080909d6780d532225389eefadbbba494d70b4"
        },
        {
          "type": "execute",
          "cmd": "cd cardinal && npm install"
        }
      ]
    }  
  ],
  "build": [
    {
      "name": "build all privatesky",
      "src": ".",
      "actions": [
        {
          "type": "execute",
          "cmd": "node ./node_modules/octopus/scripts/setEnv --file=../../../env.json \"node ./node_modules/octopus/scripts/run privatesky-build\""
        }
      ]
    } 
  ],
  "privatesky-build":[
    {
      "name": "build privatesky",
      "src": ".",
      "actions": [
        {
          "type": "execute",
          "cmd": "cd privatesky && npm run build"
        }
      ]
    },
    {
      "name": "build cardinal",
      "src": ".",
      "actions": [
        {
          "type": "execute",
          "cmd": "cd cardinal && npm run build"
        }
      ]
    }      
  ],
  "clean-dependencies": [
    {
      "name": "uninstall all privatesky",
      "src": ".",
      "actions": [
        {
          "type": "execute",
          "cmd": "node ./node_modules/octopus/scripts/setEnv --file=../../../env.json \"node ./node_modules/octopus/scripts/run privatesky-clean\""
        }
      ]
    } 
  ],
  "privatesky-clean": [
    {
      "name": "uninstall privatesky",
      "src": ".",
      "actions": [
        {
          "type": "remove",
          "target": "privatesky"
        }
      ]
    },
    {
      "name": "uninstall cardinal",
      "src": ".",
      "actions": [
        {
          "type": "remove",
          "target": "cardinal"
        }
      ]
    }   
  ]
}